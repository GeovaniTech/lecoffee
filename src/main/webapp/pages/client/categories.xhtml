<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	lang="#{MBAppConfigs.appConfigs.language}"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:components="http://java.sun.com/jsf/composite/components">
	
	<ui:composition>   
		<h:outputStylesheet library="css" name="/client/landing-page/categories.css" />
		
		<div class="categories horizontal-center">
			<ui:repeat var="category" value="#{MBTab_category.activedCategories}">
				<a href="#category_#{category.id}" class="tab_category vertical-center" style="text-decoration: none;">
					<span class="material-symbols-outlined icons">
						#{category.icon}
					</span>
					
					#{category.name}
				</a>
			</ui:repeat>
		</div> 
		
		<h:form class="productsByCategory vertical-left">
			<p:remoteCommand 
				name="updateProductsCategories"
				update="@form"/>
			
			<ui:repeat var="category" value="#{MBTab_category.activedCategories}">
				<div id="category_#{category.id}">
					<div class="containter-title-category" style="margin-bottom: 15px; margin-top: 0px;">
						<div />
							<h2 class="title-category" >#{category.name}</h2>
						<div />
					</div>
				
					<div class="container-products">
						<ui:repeat var="product" value="#{MBTab_products.getProductsByCategoryId(category.id)}">
							<components:product 
								name="#{product.name}"
								productId="#{product.id}"
								description="#{product.description}"
								price="#{product.price}"
								imageBytes="#{product.imageBytes}"
								rating="#{product.rating}"
								status="#{product.status}"
								optionsRendered="false" />
						</ui:repeat>
					</div>
				</div>
			</ui:repeat>
		</h:form>
	</ui:composition>
</html>