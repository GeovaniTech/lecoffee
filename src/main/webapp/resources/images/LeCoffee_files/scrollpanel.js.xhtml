(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(jQuery||require("jquery")):d(jQuery)})(function(d){d.fn.jScrollPane=function(G){function Da(h,R){function Z(a){var b,c=!1,f=!1;e=a;var g=b=0;if(void 0===n){var k=h.scrollTop();var l=h.scrollLeft();h.css({overflow:"hidden",padding:"0px"});t=h.innerWidth()+S;q=h.innerHeight();h.width(t);n=d('\x3cdiv class\x3d"ui-scrollpanel-content" \x3e\x3c/div\x3e').css("padding",oa).append(h.children());
p=d('\x3cdiv class\x3d"ui-scrollpanel-container" \x3e\x3c/div\x3e').css({width:t+"px",height:q+"px"}).append(n).appendTo(h)}else{h.css("width","");p.css({width:"auto",height:"auto"});n.css("position","static");var m=h.innerWidth()+S;var r=h.innerHeight();n.css("position","absolute");c=e.stickToBottom&&Ea();f=e.stickToRight&&Fa();var y=m!==t||r!==q;t=m;q=r;p.css({width:t+"px",height:q+"px"});if(!y&&wa==z&&n.outerHeight()==x){h.width(t);return}wa=z;n.css("width","");h.width(t);p.find("\x3e.ui-scrollpanel-vbar,\x3e.ui-scrollpanel-hbar").remove().end()}n.css("overflow",
"auto");z=a.contentWidth?a.contentWidth:n[0].scrollWidth;x=n[0].scrollHeight;n.css("overflow","");pa=z/t;ea=x/q;D=1<ea||e.alwaysShowVScroll;if((E=1<pa||e.alwaysShowHScroll)||D){h.addClass("jspScrollable");if(a=e.maintainPosition&&(u||v))b=J(),g=K();Ga();Ha();Ia();if(e.stickToBottom||e.stickToRight)T(f?z-t:b,!1),L(c?x-q:g,!1);Ja();Ka();La();e.enableKeyboardNavigation&&Ma();e.clickOnTrack&&Na();Oa();e.hijackInternalLinks&&Pa()}else h.removeClass("jspScrollable"),n.css({top:"0px",left:"0px",width:p.width()-
S+"px"}),p.off(qa),n.find(":input,a").off("focus.jsp"),h.attr("tabindex","-1").removeAttr("tabindex").off("keydown.jsp keypress.jsp"),n.off(".jsp"),xa();e.resizeSensor||!e.autoReinitialise||U?e.resizeSensor||e.autoReinitialise||!U||clearInterval(U):U=setInterval(function(){Z(e)},e.autoReinitialiseDelay);e.resizeSensor&&!ya&&(ra(n,fa),ra(h,fa),ra(h.parent(),fa),window.addEventListener("resize",fa),ya=!0);k&&h.scrollTop(0)&&L(k,!1);l&&h.scrollLeft(0)&&T(l,!1);h.trigger("jsp-initialised",[E||D])}function ra(a,
b){var c,f,g=document.createElement("div"),k=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),r=document.createElement("div");g.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";k.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";m.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;";
l.style.cssText="position: absolute; left: 0; top: 0;";r.style.cssText="position: absolute; left: 0; top: 0; width: 200%; height: 200%;";var y=function(){l.style.width=k.offsetWidth+10+"px";l.style.height=k.offsetHeight+10+"px";k.scrollLeft=k.scrollWidth;k.scrollTop=k.scrollHeight;m.scrollLeft=m.scrollWidth;m.scrollTop=m.scrollHeight;c=a.width();f=a.height()};k.addEventListener("scroll",function(){(a.width()>c||a.height()>f)&&b.apply(this,[]);y()}.bind(this));m.addEventListener("scroll",function(){(a.width()<
c||a.height()<f)&&b.apply(this,[]);y()}.bind(this));k.appendChild(l);m.appendChild(r);g.appendChild(k);g.appendChild(m);a.append(g);"static"===window.getComputedStyle(a[0],null).getPropertyValue("position")&&(a[0].style.position="relative");y()}function Ga(){D&&(p.append(d('\x3cdiv class\x3d"ui-scrollpanel-vbar"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-cap ui-scrollpanel-captop"\x3e\x3c/div\x3e'),d('\x3cdiv class\x3d"ui-scrollpanel-track ui-widget-header"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-drag ui-state-highlight"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-dragtop"\x3e\x3c/div\x3e'),
d('\x3cdiv class\x3d"ui-scrollpanel-dragbottom"\x3e\x3c/div\x3e'))),d('\x3cdiv class\x3d"ui-scrollpanel-cap ui-scrollpanel-capbottom"\x3e\x3c/div\x3e'))),ha=p.find("\x3e.ui-scrollpanel-vbar"),H=ha.find("\x3e.ui-scrollpanel-track"),A=H.find("\x3e.ui-scrollpanel-drag"),e.showArrows&&(aa=d('\x3ca class\x3d"jspArrow jspArrowUp" \x3e\x3c/a\x3e').on("mousedown.jsp",M(0,-1)).on("click.jsp",V),ba=d('\x3ca class\x3d"jspArrow jspArrowDown" \x3e\x3c/a\x3e').on("mousedown.jsp",M(0,1)).on("click.jsp",V),e.arrowScrollOnHover&&
(aa.on("mouseover.jsp",M(0,-1,aa)),ba.on("mouseover.jsp",M(0,1,ba))),za(H,e.verticalArrowPositions,aa,ba)),W=q,p.find("\x3e.ui-scrollpanel-vbar\x3e.ui-scrollpanel-cap:visible,\x3e.ui-scrollpanel-vbar\x3e.jspArrow").each(function(){W-=d(this).outerHeight()}),A.on("mouseenter",function(){A.addClass("jspHover")}).on("mouseleave",function(){A.removeClass("jspHover")}).on("mousedown.jsp",function(a){d("html").on("dragstart.jsp selectstart.jsp",V);A.addClass("jspActive");var b=a.pageY-A.position().top;
d("html").on("mousemove.jsp",function(c){P(c.pageY-b,!1)}).on("mouseup.jsp mouseleave.jsp",Aa);return!1}),Ba())}function Ba(){H.height(W+"px");u=0;sa=e.verticalGutter+H.outerWidth();n.width(t-sa-S);try{0===ha.position().left&&n.css("margin-left",sa+"px")}catch(a){}}function Ha(){E&&(p.append(d('\x3cdiv class\x3d"ui-scrollpanel-hbar"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-cap ui-scrollpanel-capleft"\x3e\x3c/div\x3e'),d('\x3cdiv class\x3d"ui-scrollpanel-track ui-widget-header"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-drag ui-state-highlight"\x3e\x3c/div\x3e').append(d('\x3cdiv class\x3d"ui-scrollpanel-dragleft"\x3e\x3c/div\x3e'),
d('\x3cdiv class\x3d"ui-scrollpanel-dragright"\x3e\x3c/div\x3e'))),d('\x3cdiv class\x3d"ui-scrollpanel-cap ui-scrollpanel-capright"\x3e\x3c/div\x3e'))),ia=p.find("\x3e.ui-scrollpanel-hbar"),I=ia.find("\x3e.ui-scrollpanel-track"),B=I.find("\x3e.ui-scrollpanel-drag"),e.showArrows&&(ca=d('\x3ca class\x3d"jspArrow jspArrowLeft" \x3e\x3c/a\x3e').on("mousedown.jsp",M(-1,0)).on("click.jsp",V),da=d('\x3ca class\x3d"jspArrow jspArrowRight" \x3e\x3c/a\x3e').on("mousedown.jsp",M(1,0)).on("click.jsp",V),e.arrowScrollOnHover&&
(ca.on("mouseover.jsp",M(-1,0,ca)),da.on("mouseover.jsp",M(1,0,da))),za(I,e.horizontalArrowPositions,ca,da)),B.on("mouseenter",function(){B.addClass("jspHover")}).on("mouseleave",function(){B.removeClass("jspHover")}).on("mousedown.jsp",function(a){d("html").on("dragstart.jsp selectstart.jsp",V);B.addClass("jspActive");var b=a.pageX-B.position().left;d("html").on("mousemove.jsp",function(c){X(c.pageX-b,!1)}).on("mouseup.jsp mouseleave.jsp",Aa);return!1}),Q=p.innerWidth(),Ca())}function Ca(){p.find("\x3e.ui-scrollpanel-hbar\x3e.ui-scrollpanel-cap:visible,\x3e.ui-scrollpanel-hbar\x3e.jspArrow").each(function(){Q-=
d(this).outerWidth()});I.width(Q+"px");v=0}function Ia(){if(E&&D){var a=I.outerHeight(),b=H.outerWidth();W-=a;d(ia).find("\x3e.ui-scrollpanel-cap:visible,\x3e.jspArrow").each(function(){Q+=d(this).outerWidth()});Q-=b;q-=b;t-=a;I.parent().append(d('\x3cdiv class\x3d"ui-scrollpanel-corner ui-widget-header" \x3e\x3c/div\x3e').css("width",a+"px"));Ba();Ca()}E&&n.width(p.outerWidth()-S+"px");x=n.outerHeight();ea=x/q;E&&(N=Math.ceil(1/pa*Q),N>e.horizontalDragMaxWidth?N=e.horizontalDragMaxWidth:N<e.horizontalDragMinWidth&&
(N=e.horizontalDragMinWidth),B.css("width",N+"px"),F=Q-N,ta(v));D&&(O=Math.ceil(1/ea*W),O>e.verticalDragMaxHeight?O=e.verticalDragMaxHeight:O<e.verticalDragMinHeight&&(O=e.verticalDragMinHeight),A.css("height",O+"px"),C=W-O,ua(u))}function za(a,b,c,f){var g="before",k="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split");b==g?k=b:b==k&&(g=b,b=c,c=f,f=b);a[g](c)[k](f)}function M(a,b,c){return function(){Qa(a,b,this,c);this.trigger("blur");return!1}}function Qa(a,b,c,f){c=d(c).addClass("jspActive");
var g,k=!0,l=function(){0!==a&&w.scrollByX(a*e.arrowButtonSpeed);0!==b&&w.scrollByY(b*e.arrowButtonSpeed);g=setTimeout(l,k?e.initialDelay:e.arrowRepeatFreq);k=!1};l();var m=f?"mouseout.jsp":"mouseup.jsp";f=f||d("html");f.on(m,function(){c.removeClass("jspActive");g&&clearTimeout(g);g=null;f.off(m)})}function Na(){xa();if(D)H.on("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var b=d(this),c=b.offset(),f=a.pageY-c.top-u,g,k=!0,l=function(){var r=b.offset();
r=a.pageY-r.top-O/2;var y=q*e.scrollPagePercent,Y=C*y/(x-q);if(0>f)u-Y>r?w.scrollByY(-y):P(r);else if(0<f)u+Y<r?w.scrollByY(y):P(r);else{m();return}g=setTimeout(l,k?e.initialDelay:e.trackClickRepeatFreq);k=!1},m=function(){g&&clearTimeout(g);g=null;d(document).off("mouseup.jsp",m)};l();d(document).on("mouseup.jsp",m);return!1}});if(E)I.on("mousedown.jsp",function(a){if(void 0===a.originalTarget||a.originalTarget==a.currentTarget){var b=d(this),c=b.offset(),f=a.pageX-c.left-v,g,k=!0,l=function(){var r=
b.offset();r=a.pageX-r.left-N/2;var y=t*e.scrollPagePercent,Y=F*y/(z-t);if(0>f)v-Y>r?w.scrollByX(-y):X(r);else if(0<f)v+Y<r?w.scrollByX(y):X(r);else{m();return}g=setTimeout(l,k?e.initialDelay:e.trackClickRepeatFreq);k=!1},m=function(){g&&clearTimeout(g);g=null;d(document).off("mouseup.jsp",m)};l();d(document).on("mouseup.jsp",m);return!1}})}function xa(){I&&I.off("mousedown.jsp");H&&H.off("mousedown.jsp")}function Aa(){d("html").off("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
A&&A.removeClass("jspActive");B&&B.removeClass("jspActive")}function P(a,b){if(D){0>a?a=0:a>C&&(a=C);var c=new d.Event("jsp-will-scroll-y");h.trigger(c,[a]);if(!c.isDefaultPrevented()){c=a||0;var f=0===c,g=c==C,k=-(a/C)*(x-q);void 0===b&&(b=e.animateScroll);b?w.animate(A,"top",a,ua,function(){h.trigger("jsp-user-scroll-y",[-k,f,g])}):(A.css("top",a+"px"),ua(a),h.trigger("jsp-user-scroll-y",[-k,f,g]))}}}function ua(a){void 0===a&&(a=A.position().top);p.scrollTop(0);u=a||0;var b=0===u,c=u==C;a=-(a/
C)*(x-q);if(ja!=b||ka!=c)ja=b,ka=c,h.trigger("jsp-arrow-change",[ja,ka,la,ma]);e.showArrows&&(aa[b?"addClass":"removeClass"]("jspDisabled"),ba[c?"addClass":"removeClass"]("jspDisabled"));n.css("top",a+"px");h.trigger("jsp-scroll-y",[-a,b,c]).trigger("scroll")}function X(a,b){if(E){0>a?a=0:a>F&&(a=F);var c=new d.Event("jsp-will-scroll-x");h.trigger(c,[a]);if(!c.isDefaultPrevented()){c=a||0;var f=0===c,g=c==F,k=-(a/F)*(z-t);void 0===b&&(b=e.animateScroll);b?w.animate(B,"left",a,ta,function(){h.trigger("jsp-user-scroll-x",
[-k,f,g])}):(B.css("left",a+"px"),ta(a),h.trigger("jsp-user-scroll-x",[-k,f,g]))}}}function ta(a){void 0===a&&(a=B.position().left);p.scrollTop(0);v=a||0;var b=0===v,c=v==F;a=-(a/F)*(z-t);if(la!=b||ma!=c)la=b,ma=c,h.trigger("jsp-arrow-change",[ja,ka,la,ma]);e.showArrows&&(ca[b?"addClass":"removeClass"]("jspDisabled"),da[c?"addClass":"removeClass"]("jspDisabled"));n.css("left",a+"px");h.trigger("jsp-scroll-x",[-a,b,c]).trigger("scroll")}function L(a,b){P(a/(x-q)*C,b)}function T(a,b){X(a/(z-t)*F,b)}
function na(a,b,c){var f=0,g=0,k,l;try{var m=d(a)}catch(Y){return}var r=m.outerHeight();a=m.outerWidth();p.scrollTop(0);for(p.scrollLeft(0);!m.is(".ui-scrollpanel-content");)if(f+=m.position().top,g+=m.position().left,m=m.offsetParent(),/^body|html$/i.test(m[0].nodeName))return;m=K();var y=m+q;f<m||b?k=f-e.horizontalGutter:f+r>y&&(k=f-q+r+e.horizontalGutter);isNaN(k)||L(k,c);f=J();k=f+t;g<f||b?l=g-e.horizontalGutter:g+a>k&&(l=g-t+a+e.horizontalGutter);isNaN(l)||T(l,c)}function J(){return-n.position().left}
function K(){return-n.position().top}function Ea(){var a=x-q;return 1==e.maintainPosition?20<=a&&10>a-K():!0}function Fa(){var a=z-t;return 1==e.maintainPosition?20<=a&&10>a-J():!0}function Ka(){p.off(qa).on(qa,function(a,b,c,f){v||(v=0);u||(u=0);b=v;var g=u;a=a.deltaFactor||e.mouseWheelSpeed;w.scrollBy(c*a,-f*a,!1);return b==v&&g==u})}function V(){return!1}function Ja(){n.find(":input,a").off("focus.jsp").on("focus.jsp",function(a){na(a.target,!1)})}function Ma(){function a(){var g=v,k=u;switch(b){case 40:w.scrollByY(e.keyboardSpeed,
!1);break;case 38:w.scrollByY(-e.keyboardSpeed,!1);break;case 34:case 32:w.scrollByY(q*e.scrollPagePercent,!1);break;case 33:w.scrollByY(-q*e.scrollPagePercent,!1);break;case 39:w.scrollByX(e.keyboardSpeed,!1);break;case 37:w.scrollByX(-e.keyboardSpeed,!1)}return c=g!=v||k!=u}var b,c,f=[];E&&f.push(ia[0]);D&&f.push(ha[0]);n.on("focus.jsp",function(){h.focus()});h.attr("tabindex",0).off("keydown.jsp keypress.jsp").on("keydown.jsp",function(g){if(g.target===this||f.length&&d(g.target).closest(f).length){var k=
v,l=u;switch(g.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:b=g.keyCode;a();break;case 35:L(x-q);b=null;break;case 36:L(0),b=null}c=g.keyCode==b&&k!=v||l!=u;return!c}}).on("keypress.jsp",function(g){g.keyCode==b&&a();if(g.target===this||f.length&&d(g.target).closest(f).length)return!c});e.hideFocus?(h.css("outline","none"),"hideFocus"in p[0]&&h.attr("hideFocus",!0)):(h.css("outline",""),"hideFocus"in p[0]&&h.attr("hideFocus",!1))}function Oa(){if(location.hash&&1<location.hash.length){var a=
escape(location.hash.substr(1));try{var b=d("#"+a+', a[name\x3d"'+a+'"]')}catch(f){return}if(b.length&&n.find(a))if(0===p.scrollTop())var c=setInterval(function(){0<p.scrollTop()&&(na(b,!0),d(document).scrollTop(p.position().top),clearInterval(c))},50);else na(b,!0),d(document).scrollTop(p.position().top)}}function Pa(){d(document.body).data("jspHijack")||(d(document.body).data("jspHijack",!0),d(document.body).delegate('a[href*\x3d"#"]',"click",function(a){var b=this.href.substr(0,this.href.indexOf("#")),
c=location.href;-1!==location.href.indexOf("#")&&(c=location.href.substr(0,location.href.indexOf("#")));if(b===c){b=escape(this.href.substr(this.href.indexOf("#")+1));try{var f=d("#"+b+', a[name\x3d"'+b+'"]')}catch(g){return}f.length&&(b=f.closest(".jspScrollable"),b.data("jsp").scrollToElement(f,!0),b[0].scrollIntoView&&(c=d(window).scrollTop(),f=f.offset().top,(f<c||f>c+d(window).height())&&b[0].scrollIntoView()),a.preventDefault())}}))}function La(){var a,b,c,f,g,k=!1;p.off("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").on("touchstart.jsp",
function(l){l=l.originalEvent.touches[0];a=J();b=K();c=l.pageX;f=l.pageY;g=!1;k=!0}).on("touchmove.jsp",function(l){if(k){l=l.originalEvent.touches[0];var m=v,r=u;w.scrollTo(a+c-l.pageX,b+f-l.pageY);g=g||5<Math.abs(c-l.pageX)||5<Math.abs(f-l.pageY);return m==v&&r==u}}).on("touchend.jsp",function(l){k=!1}).on("click.jsp-touchclick",function(l){if(g)return g=!1})}var e,w=this,n,t,q,p,z,x,pa,ea,D,E,A,C,u,B,F,v,ha,H,sa,W,O,aa,ba,ia,I,Q,N,ca,da,U,oa,wa,ja=!0,la=!0,ka=!1,ma=!1,va=h.clone(!1,!1).empty(),
ya=!1,qa=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp",fa=function(){0<e.resizeSensorDelay?setTimeout(function(){Z(e)},e.resizeSensorDelay):Z(e)};if("border-box"===h.css("box-sizing"))var S=oa=0;else oa=h.css("paddingTop")+" "+h.css("paddingRight")+" "+h.css("paddingBottom")+" "+h.css("paddingLeft"),S=(parseInt(h.css("paddingLeft"),10)||0)+(parseInt(h.css("paddingRight"),10)||0);d.extend(w,{reinitialise:function(a){a=d.extend({},e,a);Z(a)},scrollToElement:function(a,b,c){na(a,b,c)},scrollTo:function(a,
b,c){T(a,c);L(b,c)},scrollToX:function(a,b){T(a,b)},scrollToY:function(a,b){L(a,b)},scrollToPercentX:function(a,b){T(a*(z-t),b)},scrollToPercentY:function(a,b){L(a*(x-q),b)},scrollBy:function(a,b,c){w.scrollByX(a,c);w.scrollByY(b,c)},scrollByX:function(a,b){a=(J()+Math[0>a?"floor":"ceil"](a))/(z-t);X(a*F,b)},scrollByY:function(a,b){a=(K()+Math[0>a?"floor":"ceil"](a))/(x-q);P(a*C,b)},positionDragX:function(a,b){X(a,b)},positionDragY:function(a,b){P(a,b)},animate:function(a,b,c,f,g){var k={};k[b]=c;
a.animate(k,{duration:e.animateDuration,easing:e.animateEase,queue:!1,step:f,complete:g})},getContentPositionX:function(){return J()},getContentPositionY:function(){return K()},getContentWidth:function(){return z},getContentHeight:function(){return x},getPercentScrolledX:function(){return J()/(z-t)},getPercentScrolledY:function(){return K()/(x-q)},getIsScrollableH:function(){return E},getIsScrollableV:function(){return D},getContentPane:function(){return n},scrollToBottom:function(a){P(C,a)},hijackInternalLinks:d.noop,
destroy:function(){var a=K(),b=J();h.removeClass("jspScrollable").off(".jsp");n.off(".jsp");h.replaceWith(va.append(n.children()));va.scrollTop(a);va.scrollLeft(b);U&&clearInterval(U)}});Z(R)}G=d.extend({},d.fn.jScrollPane.defaults,G);d.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){G[this]=G[this]||G.speed});return this.each(function(){var h=d(this),R=h.data("jsp");R?R.reinitialise(G):(d("script",h).filter('[type\x3d"text/javascript"],:not([type])').remove(),R=new Da(h,G),
h.data("jsp",R))})};d.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,
trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8,alwaysShowVScroll:!1,alwaysShowHScroll:!1,resizeSensor:!1,resizeSensorDelay:0}});
PrimeFaces.widget.ScrollPanel=PrimeFaces.widget.DeferredWidget.extend({init:function(d){this._super(d);this.renderDeferred()},_render:function(){this.jsp=this.jq.jScrollPane(this.cfg).data("jsp")},scrollTo:function(d,G){this.jsp.scrollTo(d,G)},scrollX:function(d){this.jsp.scrollToX(d)},scrollY:function(d){this.jsp.scrollToY(d)},redraw:function(){this.jsp.reinitialise()}});